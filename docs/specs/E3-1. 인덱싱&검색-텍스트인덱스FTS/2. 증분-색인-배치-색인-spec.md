# 증분 색인/배치 색인

## 목적
텍스트인덱스FTS 보완 기능 및 운영 편의성 강화

## 기능 요구사항
- 설정값으로 동작 모드 전환 가능
- 관측 가능성(메트릭, 로그 필드) 추가
- 에러 코드/원인 상세화

## 비기능 요구사항
- 성능: P95 < 200ms (로컬)
- 신뢰성: 부분 실패 복구/롤백 지원
- 보안/프라이버시: 권한/가시성 제어 (읽기전용 모드 등)

## API / I/O (초안)
```json
{
  "tool": "텍스트인덱스FTS:v2",
  "input": {
    "config": {}
  },
  "output": {
    "ok": true,
    "metrics": {}
  }
}
```

## 데이터 모델 / 포맷
```yaml
config:
  mode: "dev|prod"
  logging: "json|pretty"
  retries: 2
```

## 예외/에지 케이스
- 잘못된 설정값/권한 부족
- I/O 오류 시 롤백 불가 상황

## 테스트 포인트
- 단위: 명세 기반 케이스 10개 이상
- 통합: happy path + 실패 시나리오
- 부하: 지속 10분 동안 분당 100 RPS 안정

## 완료 조건(DoD)
- 모든 테스트 그린
- 문서/샘플 업데이트
- 로깅/메트릭 노출 및 검증
